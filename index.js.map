{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48288540-d41f150545e6f7b8d91ef3882';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImagesByQuery = (query, page = 1) => {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=20&page=${page}`;\n  return fetch(url).then((response) => {\n    if (!response.ok) {\n      throw new Error(`Error: ${response.status}`);\n    }\n    return response.json();\n  });\n};\n","export const createGalleryCardTemplate = images => {\n  return images.reduce((acc, el) => {\n    return (\n      acc +\n      `\n      <li class=\"gallery-card\">\n        <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"gallery-info\">\n          <div class=\"info-block\">\n            <p class=\"info-block-title\">Likes:</p>\n            <p class=\"info-block-value\">${el.likes}</p>\n          </div>\n          <div class=\"info-block\">\n            <p class=\"info-block-title\">Views:</p>\n            <p class=\"info-block-value\">${el.views}</p>\n          </div>\n          <div class=\"info-block\">\n            <p class=\"info-block-title\">Comments:</p>\n            <p class=\"info-block-value\">${el.comments}</p>\n          </div>\n          <div class=\"info-block\">\n            <p class=\"info-block-title\">Downloads:</p>\n            <p class=\"info-block-value\">${el.downloads}</p>\n          </div>\n        </div>\n      </li>\n      `\n    );\n  }, '');\n};\n\n","import { fetchImagesByQuery } from './js/pixabay-api';\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nconsole.log(loaderEl);\n\nlet currentQuery = '';\nlet currentPage = 1;\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nconst showNotification = (message, type = 'info') => {\n\tiziToast[type]({\n\t\ttitle: type === 'error' ? 'Error' : 'Info',\n\t\tmessage: message,\n\t\tposition: 'topRight',\n\t\ttimeout: 3000,\n\t});\n};\n\nconst onSearchFormSubmit = (event) => {\n\tevent.preventDefault();\n\tcurrentQuery = event.currentTarget.elements.query.value.trim();\n\n\tif (currentQuery === '') {\n\t\tshowNotification('The search field cannot be empty.', 'error');\n\t\treturn;\n\t}\n\n\tgalleryEl.innerHTML = '';\n\tcurrentPage = 1;\n\tfetchAndRenderImages();\n\tloaderEl.classList.remove('is-hidden');\n};\n\nconst fetchAndRenderImages = () => {\n\tfetchImagesByQuery(currentQuery, currentPage)\n\t\t.finally(() => {\n\t\t\tloaderEl.classList.add('is-hidden')\n\t\t})\n\t\t.then((data) => {\n\t\t\tif (data.hits.length === 0 && currentPage === 1) {\n\t\t\t\tshowNotification('No images found. Please try another search.', 'info');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgalleryEl.insertAdjacentHTML('beforeend', createGalleryCardTemplate(data.hits));\n\t\t\tlightbox.refresh();\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error fetching images:', error);\n\t\t\tshowNotification('An error occurred while fetching images.', 'error');\n\t\t});\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["API_KEY","BASE_URL","fetchImagesByQuery","query","page","url","response","createGalleryCardTemplate","images","acc","el","searchFormEl","galleryEl","loaderEl","currentQuery","currentPage","lightbox","SimpleLightbox","showNotification","message","type","iziToast","onSearchFormSubmit","event","fetchAndRenderImages","data","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAqB,CAACC,EAAOC,EAAO,IAAM,CACrD,MAAMC,EAAM,GAAGJ,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,6EAA6EC,CAAI,GACtJ,OAAO,MAAMC,CAAG,EAAE,KAAMC,GAAa,CACnC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,UAAUA,EAAS,MAAM,EAAE,EAE7C,OAAOA,EAAS,MACpB,CAAG,CACH,ECXaC,EAA4BC,GAChCA,EAAO,OAAO,CAACC,EAAKC,IAEvBD,EACA;AAAA;AAAA,wCAEkCC,EAAG,aAAa;AAAA,4CACZA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKlCA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA,QAMjD,EAAE,ECzBDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpD,QAAQ,IAAIA,CAAQ,EAEpB,IAAIC,EAAe,GACfC,EAAc,EAElB,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAE1CC,EAAmB,CAACC,EAASC,EAAO,SAAW,CACpDC,EAASD,CAAI,EAAE,CACd,MAAOA,IAAS,QAAU,QAAU,OACpC,QAASD,EACT,SAAU,WACV,QAAS,GACX,CAAE,CACF,EAEMG,EAAsBC,GAAU,CAIrC,GAHAA,EAAM,eAAc,EACpBT,EAAeS,EAAM,cAAc,SAAS,MAAM,MAAM,OAEpDT,IAAiB,GAAI,CACxBI,EAAiB,oCAAqC,OAAO,EAC7D,MACA,CAEDN,EAAU,UAAY,GACtBG,EAAc,EACdS,IACAX,EAAS,UAAU,OAAO,WAAW,CACtC,EAEMW,EAAuB,IAAM,CAClCtB,EAAmBY,EAAcC,CAAW,EAC1C,QAAQ,IAAM,CACdF,EAAS,UAAU,IAAI,WAAW,CACrC,CAAG,EACA,KAAMY,GAAS,CACf,GAAIA,EAAK,KAAK,SAAW,GAAKV,IAAgB,EAAG,CAChDG,EAAiB,8CAA+C,MAAM,EACtE,MACA,CAEDN,EAAU,mBAAmB,YAAaL,EAA0BkB,EAAK,IAAI,CAAC,EAC9ET,EAAS,QAAO,CACnB,CAAG,EACA,MAAOU,GAAU,CACjB,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CR,EAAiB,2CAA4C,OAAO,CACvE,CAAG,CACH,EAEAP,EAAa,iBAAiB,SAAUW,CAAkB"}